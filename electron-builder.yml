appId: com.superpescaderia.scale
productName: Scale Desktop App
directories:
  output: dist

files:
  - main/**/*
  - renderer/**/*
  - package.json

asarUnpack:
  - node_modules/@serialport/bindings-cpp/prebuilds/**/*

# Single PNG icon â€” electron-builder auto-converts to .icns (Mac) and .ico (Win)
icon: build/icon.png

# Ad-hoc sign macOS builds (avoids "damaged" error, shows "unidentified developer" instead)
afterPack: build/afterPack.js

mac:
  category: public.app-category.utilities
  target:
    - target: dmg
      arch:
        - x64
        - arm64
    - target: zip
      arch:
        - x64
        - arm64

win:
  target:
    - target: nsis
      arch:
        - x64

linux:
  target:
    - target: AppImage
      arch:
        - x64
        - arm64

nsis:
  oneClick: true
  allowToChangeInstallationDirectory: false

publish:
  provider: github
  owner: AlanOrtiz10
  repo: scale-desktop-app
